<!doctype html><html><head></head><body><!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ANOVA Calculator</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			margin: 0;
			padding: 0;
			width: 90%;
			margin: auto;
			background: linear-gradient(to right, #6a11cb, #2575fc);
			color: #333;
			position: relative;
		}

		h1 {
			text-align: center;
			color: #4caf50;
			margin: 30px 0;
			font-weight: 900;
		}

		.form-container {
			margin: 20px 0;
			text-align: center;
		}

		.form-container label {
			display: block;
			font-weight: bold;
			color: #fff;
			margin: 10px 0 5px;
		}

		.form-container input {
			padding: 10px;
			width: 125px;
			font-size: 1em;
			margin-bottom: 10px;
		}

		.error {
			color: yellow;
			font-size: 0.9em;
			font-weight: bold;
		}

		#data-entry {
			margin-top: 20px;
		}

		.group-container {
			display: grid;
			grid-template-columns: repeat(3, 1fr);
			gap: 20px;
			margin: 20px 0;
		}

		.group {
			border: 1px solid #ccc;
			padding: 15px;
			background-color: #fff;
			border-radius: 5px;
		}

		.group label {
			font-weight: bold;
			text-align: center;
			margin-bottom: 10px;
			display: block;
		}

		.group input {
			display: block;
			margin: 5px auto;
			width: 90%;
			padding: 8px;
			text-align: center;
		}

		#output {
			margin: 20px auto;
			padding: 15px;
			width: 90%;
			max-width: 600px;
			text-align: center;
			border-radius: 5px;
			border: 1px solid #ccc;
			background-color: #e9f5e9;
			color: green;
			font-weight: bold;
		}

		#output.error {
			background-color: #f9e9e9;
			color: red;
		}

		button {
			padding: 10px 20px;
			background-color: #4caf50;
			color: white;
			font-size: 1em;
			border: none;
			border-radius: 5px;
			cursor: pointer;
			margin-top: 10px;
			display: block;
			margin-left: auto;
			margin-right: auto;
		}

		button:hover {
			background-color: #45a049;
		}

		footer {
			margin-top: 20px;
			text-align: center;
			font-size: 0.9em;
			color: #fff;
		}

		/* Watermark styles */
		.watermark {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: -1;
			pointer-events: none;
			display: flex;
			justify-content: center;
			align-items: center;
			opacity: 0.1;
			transform: rotate(-45deg);
			font-size: 10em;
			color: #4caf50;
			white-space: nowrap;
		}
	</style>
</head>

<body>
	<div class="watermark">E.K.R.</div>
	<h1>ANOVA Calculator</h1>
	<div class="form-container">
		<label for="numGroups">Enter number of groups (2-12):</label>
		<input type="number" id="numGroups" min="2" max="12" placeholder="e.g., 3" />

		<label for="numObservations">Enter number of observations per group (1-50):</label>
		<input type="number" id="numObservations" min="1" max="50" placeholder="e.g., 6" />
		<div></div>

		<button id="submit">Submit</button>
		<div id="error" class="error"></div>
	</div>

	<div id="data-entry" style="display:none;">
		<div class="group-container" id="groupContainer"></div>
		<button id="calculate">Calculate ANOVA</button>
	</div>

	<div id="output" style="display:none;">Processing...</div>

	<footer>
		&copy; 2025 ANOVA Calculator | Built with care by EKR.
	</footer>

	<script>
		document.addEventListener('DOMContentLoaded', function () {
            const submitButton = document.getElementById("submit");
            const calculateButton = document.getElementById("calculate");
            const errorDiv = document.getElementById("error");
            const groupContainer = document.getElementById("groupContainer");
            const dataEntry = document.getElementById("data-entry");
            const output = document.getElementById("output");

            submitButton.addEventListener("click", () => {
                const numGroups = parseInt(document.getElementById("numGroups").value);
                const numObservations = parseInt(document.getElementById("numObservations").value);
                errorDiv.textContent = "";

                if (!numGroups || numGroups < 2 || numGroups > 12) {
                    errorDiv.textContent = "Please enter a valid number of groups (2-12).";
                    return;
                }

                if (!numObservations || numObservations < 1 || numObservations > 50) {
                    errorDiv.textContent = "Please enter a valid number of observations (1-50).";
                    return;
                }

                groupContainer.innerHTML = "";
                for (let i = 1; i <= numGroups; i++) {
                    const groupDiv = document.createElement("div");
                    groupDiv.className = "group";
                    groupDiv.innerHTML = `<label>Group ${i}</label>`;
                    for (let j = 1; j <= numObservations; j++) {
                        const input = document.createElement("input");
                        input.type = "number";
                        input.className = "group-input";
                        input.placeholder = `Value ${j}`;
                        groupDiv.appendChild(input);
                    }
                    groupContainer.appendChild(groupDiv);
                }

                dataEntry.style.display = "block";
            });

            calculateButton.addEventListener("click", () => {
                // Check if all fields are filled
                const allInputs = document.querySelectorAll(".group-input");
                let allFilled = true;
                allInputs.forEach(input => {
                    if (!input.value) {
                        allFilled = false;
                    }
                });

                if (!allFilled) {
                    output.textContent = "Please fill all input fields.";
                    output.classList.add("error");
                    output.style.display = "block";
                    return;
                }

                output.style.display = "block";
                output.textContent = "Processing...";
                output.style.color = "green";

                setTimeout(() => {
                    try {
                        const groups = [];
                        document.querySelectorAll(".group").forEach(groupDiv => {
                            const values = Array.from(groupDiv.querySelectorAll(".group-input"))
                                .map(input => parseFloat(input.value))
                                .filter(value => !isNaN(value));

                            if (values.length > 0) {
                                groups.push(values);
                            }
                        });

                        if (groups.length < 2) {
                            output.textContent = "Error calculating ANOVA: Insufficient data.";
                            output.classList.add("error");
                            return;
                        }

                        // ANOVA calculation
                        const mean = (arr) => arr.reduce((sum, val) => sum + val, 0) / arr.length;
                        const allValues = groups.flat();
                        let grandMean = 0;
                        let SS_T = 0, SS_B = 0, SS_W = 0;

                        for (let val of allValues) {
                            grandMean += val;
                        }
                        grandMean /= allValues.length;

                        for (let val of allValues) {
                            SS_T += Math.pow(val - grandMean, 2);
                        }

                        groups.forEach(group => {
                            const groupMean = mean(group);
                            SS_B += group.length * Math.pow(groupMean - grandMean, 2);
                        });

                        SS_W = SS_T - SS_B;

                        const df_B = groups.length - 1;
                        const df_W = allValues.length - groups.length;
                        const MS_B = SS_B / df_B;
                        const MS_W = SS_W / df_W;
                        const F = MS_B / MS_W;

                        output.textContent = `F-Ratio: ${F.toFixed(2)}`;
                        output.style.color = "black";
                    } catch (err) {
                        output.textContent = "Error calculating ANOVA.";
                        output.classList.add("error");
                    }
                }, 3000);
            });
        });
	</script>
</body>

</html></body><html>